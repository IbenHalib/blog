<?php
 
 namespace Vadim\BlogBundle\DataFixtures\ORM;
 
 use Doctrine\Common\DataFixtures\AbstractFixture;
 use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
 use Doctrine\Common\Persistence\ObjectManager;
 use Doctrine\Common\Collections\ArrayCollection;
 use Vadim\BlogBundle\Entity\Category;
 
 class LoadCategoryData extends AbstractFixture implements OrderedFixtureInterface
 {
     /**
      * {@inheritDoc}
      */
     public function load(ObjectManager $manager)
     {
     $categoriesData = array(
                 array('Symfony2' => '1',),
                 array('Programing' => '2'),
                 array('php' => '3'),
                 array('html' => '4'),
             );

        
 
         foreach ($categoriesData['categories'] as $key => $value) {
             $categories = new Category();
 
             $categories->setName($key) ;
 
             $manager->persist($categories);
             $this->addReference($key, $categories);
         }
 
         $manager->flush();
     }
 
     /**
      * {@inheritDoc}
      */
     public function getOrder()
     {
         return 3;
     }
 

 }

